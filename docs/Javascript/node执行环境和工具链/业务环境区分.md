# 业务环境区分

有一种很常见的场景,我们开发的时候连的api服务是本地服务,而最终部署到生产环境时api服务是一个生产环境上特定地址的服务.这两个api服务除了地址没什么不同,又或者我们在开发时使用debug级别的log方便调试,但生产环境下我们需要减少log仅在报错时有log打印.通常应对这种情况的办法就是使用业务环境进行区分.

习惯上我们使用环境变量`NODE_ENV`来区分业务环境.一般取值为如下枚举

+ `production`或`prod`,即生产环境,一般就是最终部署的状态
+ `test`,即测试环境,通常用于整体测试
+ `dev`,即开发环境,通常用于开发,一般`NODE_ENV`为空即默认情况下也应该是开发环境

我们就可以在用到的地方使用`const debug = process.env.NODE_ENV !== 'production'`这样的语句来判断环境从而根据环境执行不同的操作