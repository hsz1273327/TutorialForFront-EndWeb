# Vue攻略

本系列的应用部分都是基于vue框架的,因此我们先介绍vue.

[Vue.js](https://v3.cn.vuejs.org/)是一个专注于网页前端的框架项目,但由于直观好用,很多其他基于js的平台也会对它做适配.其支持渐进式的开发模式,也就是由少到多的使用它.

Vue.js的大版本是v3,但v2也十分流行并且有大量遗留项目.v3版本在性能和对ts的支持方面都大幅优于v2版本,但好在v3兼容v2,只是去掉了`setup`以及与之相关的组合式api.因此本文以v3版本为基准.

vue是针对浏览器平台的前端框架.因此它对浏览器平台的支持也是最全面的,而其他平台往往只是借用它的语法,一些细节和默认组件未必会有实现,这点需要注意.

## vue生态的基本特点

vue.js本体专职页面渲染,大致有如下特点:

1. 声明式模板
2. 组件化
3. 数据双向绑定

配合生态中的状态管理插件[Vuex](https://vuex.vuejs.org/zh/guide/)或[pinia](https://pinia.vuejs.org/zh/)和路由插件[Vue Router](https://router.vuejs.org/zh/guide/)就可以完整的构建前端项目了.

vue支持es也支持ts,作为一个前端"项目",从可维护性角度看我们应该首选ts.

vue生态的最大特点就是统一.它非常的不像个js项目而是很像python项目.生态统一,基础功能都是官方维护.前端项目的最恶心之处就在于碎片化,有一堆工具声称可以实现这个那个,但要找到合适自己的那个实现甚至只是希望完成一个helloworld都其费事.而vue生态的最大优势就是它在给你选择的同时会给你一个通用的实现对应你的需求.你不需要去额外挑选非常省心.这也是本系列以vue为基础写作的原因.

但在所有之前我们先来个helloworld直观的了解下vue项目

## helloworld

我们先创建一个简单完整的vue项目用于演示.这个项目的代码在[浏览器环境-vue-hello分支](https://github.com/hsz1273327/TutorialForFront-EndWeb/tree/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%8E%AF%E5%A2%83-vue-hello),需要在浏览器环境下运行

我们进入项目文件夹下执行`npm run serve`即可执行,我们可以看到一个最简单的页面介绍vue项目;使用`npm run build`就可以将项目编译为前端项目的最终成果(在目录`dist`中).

### vue项目基本结构

一个vue项目的基本结构如下:

```bash
helloworld--|
            |--dist //编译完成后的项目
            |--node_modules //依赖的模块
            |--public--|
            |          |--index.html //入口html文件,必须包含`<div id="app"></div>`
            |          |--favicon.ico //前端页的窗口图标
            |
            |--src--|
                    |--main.js/main.ts //vue项目的入口
                    |--App.vue //vue项目的跟组件
                    |--assets //存放图片资源
                    |--router //定义路由,内部是js/ts文件
                    |--store //定义状态,内部是js/ts文件
                    |--views //展示视图组件
                    |--components //其他组件
                    |--apis //管理所有的远程数据获取
```

vue.js是完全组件化的,通常每个文件就是一个组件,管理页面中的一个元素,组件之间可以嵌套,构造成一个组件树,这个组件树就是我们要表现的页面了.我们要表现的完整页面通常被称为视图(view)会放在单独的文件加下管理,通常组件树的根节点并不直接包含视图节点,而是通过路由来串联.

在这个例子中这个组件树如下:

```bash
App.vue(+router)--|
                  |--components/HelloWorld.vue
```

## 本部分内容

+ 单文件组件一文中我们会总览vue的主流组件编写风格和各个部分的职能
+ 在组件模板一文中我们会主要介绍针对`<template>`和`<style>`标签内容
+ 在组件内部逻辑一文中我们会主要介绍`data`,`computed`,`methods`,`watch`和`expose`等
+ 在组件内部反射一文中我们会主要介绍如何在组件中获取自身实例的一些属性,如何在组件中获得其子组件实例的一些属性
+ 在组件生命周期一文我们会介绍`生命周期钩子`
+ 在子组件一文我们会介绍`components`
+ 在组件通信一文我们会介绍`props`,`emits`以及`provide和inject`
+ 在全局状态维护一文中我们会介绍vue生态下如何做全局状态维护.
+ 在全局路由一文中我们会介绍在vue生态下如何做页面切换.
+ 在组件加载一文中我们还会额外介绍下几种常用的组件加载方式.
+ 在组件复用一文我们会介绍`extends`和`mixins`,并介绍vue组件包应该如何构造和发布

注意本部分只是相当粗浅的介绍,应该可以解决80%场景下的应用需求,但如果需要用到更复杂的特性或者要自己写复杂组件供别人调用则需要去官网看文档.
