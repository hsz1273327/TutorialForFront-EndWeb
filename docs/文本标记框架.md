# 文本标记框架

前端应用说白了就是在页面上提供人机交互界面的应用,而界面有什么元素,可以触发什么事件我们是需要声明出来的.通常这个文本标记框架是由运行平台提供的.除了提供可用的页面元素和调用接口外也会提供一个用于声明有哪些元素的语言都是类HTML的文本标记语言.

由于不同场景下规范并不相同,但他们总体结构语法是一样的,本文就以最基础的HTML为例,介绍下这类文本标记框架的结构.

## 一个典型的例子

```html
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>测试</title>
        <link href="style.css" rel="stylesheet" type="text/css" />
        <script src="index.js" async="async"></script>
    </head>
    <body>
        <main id="root">
            <header>
                <h1>我的第一个标题</h1>
                <p>我的第一个段落。</p>
            </header>
            <!-- 注释 -->
        </main>
    </body>
</html>
```

## 结构语法

这类文本标记框架都和html一样是xml的子集.它本身就是一个描述树状结构的纯文本.可以分为3个部分组成:

+ `标签`: 用于表示元素开始位置和结束位置的符号,它有两种结构:
    1. 带开闭的标签对形式,形如`<div>...</div>`,第一个用于申明,通常没有结束符,它也不构成元素.另一种带结束符,总是成对出现.
    2. 单标签形式,形如:`<br />`,内部没有子元素的元素常用这种形式.
+ `属性`: 在起始标签中定义的东西,通常是描述这个元素的一些基础信息用,形如`<div class="test">...</div>`
+ `内容`: 被标签包裹的部分被称为内容,内容可以是注释,文本,或者子元素

### 类属性和id属性

元素有两个特别的属性即`id`和`class`.`id`可以用于唯一的标识一个元素,而`class`用于给元素分类.一般平台都会提供用于搜索这两个属性的js接口.同时`id`和`class`也是关联css的常用属性.

### 注释

这类文本标记框架都是用`<!-- -->`来进行注释的.

### 基础标签

一个平台可以渲染些什么基础交互组件就会提供什么基础标签.比如上面例子中的`body`标签就是浏览器中提供的一个基础标签.

### 事件

这类文本标记框架都会有一个事件引擎定义好一系列基础标签可以响应的操作.比如浏览器中就有点击,拖拽等允许操作.手机上就有触摸,长按等操作.我们通常通过文本标记框架提供的接口在声明的界面元素上绑定回调函数来处理不同的事件.

### 功能性接口

文本标记框架往往也是你直接操作一些功能性设备或外部应用的api来源.比如用于访问外部服务接口的fetch接口等.这些接口同样是由平台的文本标记框架提供.

## DOM

被这类文本标记框架描述出来的树状结构就是DOM(Document Object Model),树的每个分支的终点都是一个节点(node),每个节点都包含着对象(objects).这个树状结构中的任意一个分叉(包括根)可以被称作元素(element).节点是元素但元素不一定是节点.

通常平台提供的Javascript的api实际就是操作DOM的接口.DOM上的元素是被这类文本标记框架描述出来解析构造生成的,因此原始状态下和这类文本标记框架描述出来的是一致的.而随着对这些api的调用,DOM的状态会被改变,从而实现交互.

也就是说这类文本标记框架描述的页面用于初始化前端应用的DOM,而交互逻辑则是随业务调用api改变DOM的状态实现的.
