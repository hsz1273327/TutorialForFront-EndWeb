# 自定义窗口

electron允许我们对窗口进行一定程度的自定义,这对应用的整体观感设计很有帮助,我们进一步完善我们的例子,这个例子在[electron-window分支](https://github.com/hsz1273327/TutorialForFront-EndWeb/tree/electron-window)

**注意:**本文会涉及ipc和渲染进程,会比前面复杂不少

## 窗口顶栏设置

在不同平台顶栏的形式是不同的:

1. macos下应用的菜单栏并不在窗口上而是启动后不管你定义没定义都会在顶部左侧出现(没定义也会有的).而顶栏就是标题栏--经典的3色红绿灯按钮排布在窗口左上角.

2. windows/Ubuntu的gnome桌面下,标题栏是标题栏菜单是菜单,标题栏在窗口最顶部一整层,然后如果有设定菜单栏,那下面一层就是菜单栏.

默认情况下标题栏是没什么可设置的,你除了在创建窗口时设置下`title`字段外也干不了什么.主要能设置的就是菜单栏

菜单栏的设置还是用到之前的`Menu`类

```typescript
...
const defaultMenuTemplate: MenuItemConstructorOptions[] = [
  {
    label: '文件',
    submenu: [
      {
        label: '退出',
        role: 'quit' // 使用内置角色
      }
    ]
  },
  {
    label: '编辑',
    submenu: [
      { label: '撤销', role: 'undo' },
      { label: '重做', role: 'redo' },
      { type: 'separator' },
      { label: '剪切', role: 'cut' },
      { label: '复制', role: 'copy' },
      { label: '粘贴', role: 'paste' }
    ]
  },
  {
    label: '帮助',
    submenu: [
      {
        label: '关于',
        click: (): void => {
          console.log('关于菜单被点击')
        }
      }
    ]
  }
]
const menu = Menu.buildFromTemplate(defaultMenuTemplate)
Menu.setApplicationMenu(menu) // 设置全局菜单
```

当然了如果你的菜单根据窗口不同会有变化,也可以单独给窗口设置菜单

```typescript
...
const menu = Menu.buildFromTemplate(MenuTemplate)
Window.setMenu(menu) // 设置窗口菜单
```

### 自定义顶栏

如果你希望你的应用顶部更紧凑,你可以考虑隐藏掉electron自带的标题栏和菜单栏,改用


#### macos下的特殊情况

值得注意的是在macos下,即便隐藏掉标题栏,红绿灯按钮依然会在窗口的左上角,我们应该在macos下屏蔽掉自定义的最大化最小化关闭按钮,并将有下拉菜单的顺次向右移动对齐

### 模式切换



## 窗口抖动提示


## 窗口透明化