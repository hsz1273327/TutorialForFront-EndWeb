# 获取系统联系人

官方提供了插件[@nativescript/contacts](https://docs.nativescript.org/plugins/contacts)用于管理系统联系人中的信息.讲道理正常应用是用不上的,但这边还是介绍下,毕竟这也算是手机的一个特有功能.不过本文将非常有限的使用该功能(仅读取)

## 权限设置

系统联系人的读写自然是要申请权限的.

在android中我们需要在`App_Resources/Android/src/main/AndroidManifest.xml`设置

```xml
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android" package="__PACKAGE__">
    ...
    <uses-permission android:name="android.permission.GET_ACCOUNTS" />
    <uses-permission android:name="android.permission.READ_CONTACTS" />
    <uses-permission android:name="android.permission.GLOBAL_SEARCH" />
    ...
</manifest>
```

而在ios中,app stroe要求我们写明摄像机和对应照片库的用途,我们需要在`App_Resources/iOS/Info.plist`中进行设置

```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
    ...
    <dict>
        ...
        <key>NSContactsUsageDescription</key>
        <string>Kindly provide permission to access contacts on your device.</string>
        ...
    </dict>
    ...
</plist>
```

除此之外还需要再`App_Resources/iOS/app.entitlements`中(如果没有就创建)写入如下内容

```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
  <dict>
    <key>com.apple.developer.contacts.notes</key>
    <true/>
  </dict>
</plist>
```

## 授权



